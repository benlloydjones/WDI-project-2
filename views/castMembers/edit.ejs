<div class="container">
  <h1 class="title is-1">Edit cast member</h1>
  <div class="columns">
    <div class="column is-half">
      <form method="POST" action="/castMembers/<%= castMember.id %>">

        <input type="hidden" name="_method" value="PUT">

        <div class="field">
          <label class="label">First Name</label>
          <div class="control">
            <input class="input" name="firstname" type="text" placeholder="First Name" value="<%= castMember.firstname %>" required>
          </div>
        </div>

        <div class="field">
          <label class="label">Last Name</label>
          <div class="control">
            <input class="input" name="lastname" type="text" placeholder="Last Name" value="<%= castMember.lastname %>" required>
          </div>
        </div>

        <div class="field">
          <label class="label">Image</label>
          <div class="control">
            <input class="input" name="image" type="text" placeholder="Image" value="<%= castMember.image %>">
          </div>
        </div>
        <%= castMember.episodes %>
        <div class="field">
          <label class="label">Episode</label>
          <div class="control">
            <div class="select">
              <select class="castMemberMultipleEpisode" name="episodes" multiple="multiple">
                <% episodes.forEach(episode => { %>
                  <option
                  <% if(!!castMember.episodes.find(episodeId => episodeId.toString() === episode.id)) { %>
                    selected
                  <% } %>
                  value="<%= episode.id %>"><%= episode.title %></option>
                <% }) %>
              </select>
            </div>
          </div>
        </div>
    </div>
        <div class="column is-half control">
          <button class="button is-primary">Submit</button>
        </div>
      </form>

  </div>
</div>
